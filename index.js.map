{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\n// import {\n//   fetchReviews,\n//   renderReviews,\n//   showNotFound,\n//   totalPages,\n// } from './reviews.js';\n// import { initSwiper, updateButtonsState, updateSwiper } from './swiper.js';\n\n// let currentPage = 1;\n// const btnNext = document.querySelector('.swiper-button-next');\n\n// async function loadInitialReviews() {\n//   try {\n//     const reviews = await fetchReviews(currentPage);\n//     renderReviews(reviews);\n//     initSwiper();\n//   } catch (err) {\n//     iziToast.error({ message: 'Failed to load reviews', position: 'topRight' });\n//     showNotFound();\n//     btnNext.disabled = true;\n//   }\n// }\n\n// btnNext.addEventListener('click', async () => {\n//   const swiperWrapper = document.querySelector('.swiper-wrapper');\n//   const visibleSlides = swiperWrapper.querySelectorAll('.swiper-slide').length;\n\n//   const isAtEnd = visibleSlides <= currentPage * 2;\n//   if (isAtEnd && currentPage < totalPages) {\n//     currentPage += 1;\n//     try {\n//       const reviews = await fetchReviews(currentPage);\n//       renderReviews(reviews);\n//       updateSwiper();\n//       updateButtonsState(totalPages, currentPage);\n//     } catch (err) {\n//       iziToast.error({\n//         message: 'Error loading more reviews',\n//         position: 'topRight',\n//       });\n//     }\n//   }\n// });\n\n// loadInitialReviews();\n\nimport axios from 'axios';\n\nimport Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nSwiper.use([Navigation, Keyboard]);\nimport 'swiper/css';\n\nimport 'swiper/css/pagination';\n\n//import iziToast from 'izitoast';\n\nconst reviewsWrap = document.querySelector('#reviews-container');\nconst errorReviews = document.querySelector('.error-message');\n//const baseURL = 'https://portfolio-js.b.goit.study/api';\naxios.defaults.baseURL = 'https://portfolio-js.b.goit.study/api';\n\ndocument.addEventListener('DOMContentLoaded', displayReviews);\n\nconst swiper = new Swiper('.swiper', {\n  keyboard: {\n    enabled: true,\n    onlyInViewport: true,\n  },\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n  breakpoints: {\n    260: {\n      slidesPerView: 1,\n      spaceBetween: 20,\n    },\n    768: {\n      slidesPerView: 1,\n      spaceBetween: 30,\n    },\n    1280: {\n      slidesPerView: 2,\n      spaceBetween: 32,\n    },\n  },\n});\n// отримаємо всі відгуки з API\nasync function getReviews() {\n  try {\n    const response = await axios.get('/reviews');\n    return response.data;\n  } catch (error) {\n    console.log('Error fetching reviews');\n    showError();\n  }\n}\n//рендер відгуків\nfunction renderReviews(reviews) {\n  const markup = reviews\n    .map(\n      ({ author, avatar_url, review }) => `\n          <li class=\"swiper-slide\">\n            <div class=\"review-card\">\n            <p class=\"review-text\">${review}</p>\n            <div class=\"review-info\">\n              <img src=\"${avatar_url}\" alt=\"${author}\" class=\"review-avatar\" />\n              <h3 class=\"review-author\">${author}</h3>\n              </div>\n\n            </div>\n          </li>\n        `\n    )\n    .join('');\n\n  reviewsWrap.insertAdjacentHTML('beforeend', markup);\n  swiper.update();\n}\n\n// функція яка відображає відгуки або повідомлення про помилку\nasync function displayReviews() {\n  const reviews = await getReviews();\n  if (reviews) {\n    renderReviews(reviews);\n  }\n}\n\nfunction showError() {\n  errorReviews.classList.remove('hidden');\n}\n"],"names":["Swiper","Navigation","Keyboard","reviewsWrap","errorReviews","axios","displayReviews","swiper","getReviews","showError","renderReviews","reviews","markup","author","avatar_url","review"],"mappings":"2wBAqDAA,EAAO,IAAI,CAACC,EAAYC,CAAQ,CAAC,EAOjC,MAAMC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAe,SAAS,cAAc,gBAAgB,EAE5DC,EAAM,SAAS,QAAU,wCAEzB,SAAS,iBAAiB,mBAAoBC,CAAc,EAE5D,MAAMC,EAAS,IAAIP,EAAO,UAAW,CACnC,SAAU,CACR,QAAS,GACT,eAAgB,EACjB,EACD,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,YAAa,CACX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,IAAK,CACH,cAAe,EACf,aAAc,EACf,EACD,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,CACH,CAAC,EAED,eAAeQ,GAAa,CAC1B,GAAI,CAEF,OADiB,MAAMH,EAAM,IAAI,UAAU,GAC3B,IACjB,MAAe,CACd,QAAQ,IAAI,wBAAwB,EACpCI,GACD,CACH,CAEA,SAASC,EAAcC,EAAS,CAC9B,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,OAAAE,EAAQ,WAAAC,EAAY,OAAAC,CAAQ,IAAK;AAAA;AAAA;AAAA,qCAGLA,CAAM;AAAA;AAAA,0BAEjBD,CAAU,UAAUD,CAAM;AAAA,0CACVA,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA,SAM3C,EACA,KAAK,EAAE,EAEVV,EAAY,mBAAmB,YAAaS,CAAM,EAClDL,EAAO,OAAM,CACf,CAGA,eAAeD,GAAiB,CAC9B,MAAMK,EAAU,MAAMH,IAClBG,GACFD,EAAcC,CAAO,CAEzB,CAEA,SAASF,GAAY,CACnBL,EAAa,UAAU,OAAO,QAAQ,CACxC"}